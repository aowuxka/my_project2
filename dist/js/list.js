"use strict";require(["config"],function(){require(["jquery","template","fly","load"],function(t,e){t.getJSON("/mock/list.json",function(i){var c={products:i.res_body.data},r=e("list_template",c);t(".buy").html(r),t(".buy").delegate(".images","click",function(e){var i=t(this).parent().children(".id").text();t.cookie("id",i,{expires:7,path:"/"}),location="/html/detail.html"})}),t(function(){t.cookie.json=!0,t(".buy").delegate(".add","click",function(e){var i=t(this).parent(),c={id:i.children(".id").text(),title:i.children(".title").text(),price:i.children(".price").text().slice(1),amount:1,img:i.children(".images").attr("src")},r=t.cookie("products")||[],o=function(e,i){var c=-1;return t.each(i,function(t,i){if(i.id==e)return c=t,!1}),c}(c.id,r);-1===o?r.push(c):r[o].amount++,t.cookie("products",r,{expires:7,path:"/"});t('<img src="'+i.children(".images").attr("src")+'">').fly({start:{left:e.pageX,top:e.pageY},end:{left:t(".cart").offset().left,top:t(".cart").offset().top,width:0,height:0}})})})})});